---
title: 正则学习笔记
date: 2017-03-28 11:10:40
tags: 正则
---
## REGEXP对象 ##
JS通过内置对象RegExp支持正则表达式，有两种方法实例化RegExp对象。
  ● 字面量：`var test = /a/;`
  ● 构造函数：`var test = new RegExp(匹配模式，修饰符);`
  如：`var reg = new EegExp('\\bis\\b','g');`
  其中'\b'表示单词边界，前面再加上'\'用来转义。

## 定界符 ##
定界符可以是除字母数字或反斜杠外的任何字符，必须使用相同的字符来标记模式的开始和结束，通常，我们看到的都是使用的正斜杠，如/a/。
<!--more-->
## 修饰符 ##
模式修饰符不同于其他的字符，它们放在结束定界符之后。
g : global全文搜索，不添加该修饰符时，搜索到第一个即停止匹配。
i : ignore case忽略大小写，不添加该修饰符时，大小写敏感。
m : multiple lines多行搜索。

## 字符 ##
正则表达式由两种基本字符类型组成，字面量字符和元字符。
### 字面量字符  ###
字面量字符是一个值，它的书写方式与所解释的完全一样。如/ab/用来匹配'ab'字符串。
### 元字符  ###
元字符是有特殊含义的符号。
如：. ? + * $ ^ | () {} [] | \

## 字符类 ##
1. 字符类
字符类是通过把字符放置在方括号（[]）内创建的。
所谓类是指符合某些特征的对象，一个泛指，而不是特指某个字符。例如，表达式[abc]把字符a或b或c归为一类，表达式可以匹配其中a,b,c任一个即匹配成功。
注意：`[^abc]`的前括号加了一个"^"，表示取反，即匹配不为括号里的字符。
2. 范围类
如[a-z]表示匹配a到z的任意字符。[0-9]表示匹配0到9的任意数字。
3. 预定义类
| 字符  | 类              | 描述                            |
| .     | [^\n\r]         | 匹配除了换行和回车外的任意字符  |
| \d    | [0-9]           | 匹配数字字符                    |
| \D    | [^0-9]          | 匹配非数字字符                  |
| \s    | [\t\n\x0B\f\r]  | 匹配空白字符                    |
| \S    | [^\t\n\x0B\f\r] | 匹配非空白字符                  |
| \w    | [0-9_a-zA-Z]    | 匹配单词字符                    |
| \W    | [^a-zA-Z_0-9]   | 非单词字符                      |
## 边界匹配字符  ##

## 量词 ##
由于元字符、特殊字符、字符类都是一对一进行匹配的，如
```
var a = 'abcd26';
var b = a.replace(/../,'1');  // 1cd26
```
如果需要匹配的字符串过长，这样的写法将会很麻烦，我们可以通过量词，来限定匹配的次数。注意：量词作用于它前面的字符匹配。如
```
var a = 'abcd26';
var b = a.replace(/.{2}/,'1');  // 1cd26
```

{2}——匹配2次
{2,}——至少匹配2次
{2,5}——匹配2到5次
？——匹配0次或1次
*——匹配0次或多次
+——匹配1次或多次

## 贪婪模式与非贪婪模式  ##
用{3,6}来匹配12345678的结果？
正则默认尽可能多的匹配（贪婪模式），在这里它会匹配123456；在非贪婪模式里，它只匹配123就会停止匹配，如果加了'g'全局匹配修饰符的话，会全局匹配即结果为'123','456'
非贪婪模式：让正则表达式尽可能少的匹配，一旦匹配成功即停止尝试匹配。使用非贪婪模式在量词后面加上’?‘即可。

## 分组 ##
使用`()`可以达到分组的功能，使量词作用于分组。而不只是某一个字符。
如一个模式里有三个分组，则分别对应$1,$2,$3。$1,$2,$3的值分别是对应的匹配结果。

## RegExp对象属性  ##
一个正则表达式对象拥有以下属性：
1. global:默认值为false，即不进行全局匹配。如果需要进行全局匹配，设置成true即可。
2. ignoreCase:默认值为false，即区分大小写匹配。如果需要忽略大小写，设置成true即可。
3. multiline:默认值为false，即不进行跨行搜索。
4. lastIndex:搜索开始的索引位，默认值为0。
5. source:用于存储正则表达式匹配模式的属性。
** 除了lastIndex外，其它属性在对象创建后就不能再修改了。 **前三个属性是可以用修饰符来表示的。如上面所示的"g","i","m"。只要它们被传递给了构造器，相应的修饰符就会被设置为true。

## RegExp对象方法  ##
RegExp对象中有两种可用于查找匹配的方法：test()和exec()。
1. String.test(/匹配模式/)——返回一个布尔值，如果找到匹配的内容，则返回true，否则返回false。
2. exec()——返回一个由匹配字符串组成的数组。
以正则表达式为参数的字符串方法
在String对象中，以正则表达式对象为参数的方法主要有以下这些：
1. match()——返回的是一个包含匹配内容的数组；
2. search()——返回的是第一个匹配内容所在的索引位置；
3. replace(匹配模式，替换内容)——该方法能将匹配的文本替换成指定的字符串；
如果希望在匹配文本前后添加某些其它内容，可以使用"$&"。
如：
```var a = 'abc13ds326';
alert(a.replace(/[a-z]/g,'$&_')); //a_b_c_13d_s_326
```
如果正则表达式中分了组，那么可以使用$1来表示第一组，$2来表示第二组，以此类推。
4. split()——能根据指定的正则表达式将目标字符串分割成若干个数组元素；
